<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
     <nav class="navbar navbar-expand-lg navbar-dark bg-danger sticky-top shadow-sm" th:fragment="headerShop">
	<div class="container">
		<a class="navbar-brand" th:href="@{/shop}"><i class="fas fa-moon me-2"></i>Shelter
			Restaurant</a>
		<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
			data-bs-target="#navbarNav">
			<span class="navbar-toggler-icon"></span>
		</button>

		<div class="collapse navbar-collapse" id="navbarNav">
			<ul class="navbar-nav me-auto">
				<li class="nav-item"><a class="nav-link active" th:href="@{/shop}">Trang
						chủ</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/products-list}">Sản phẩm</a></li>
				<li class="nav-item"><a class="nav-link" href="#">Khuyến
						mãi</a></li>
			</ul>

			<div class="d-flex align-items-center">
				<div class="d-flex align-items-center">
					<!-- Nếu chưa đăng nhập -->
					<div class="d-flex align-items-center me-3"
						th:if="${not isLoggedIn}">
						<a th:href="@{/login}" class="btn btn-outline-light me-2"> <i
							class="fas fa-sign-in-alt me-1"></i> Đăng nhập
						</a> <a th:href="@{/register}" class="btn btn-outline-light"> <i
							class="fas fa-user-plus me-1"></i> Đăng ký
						</a>
					</div>

					<!-- Nếu đã đăng nhập -->
					<div class="dropdown me-3" th:if="${isLoggedIn}">
						<a class="btn btn-outline-light dropdown-toggle" href="#"
							role="button" id="userDropdown" data-bs-toggle="dropdown"
							aria-expanded="false"> <i class="fas fa-user"></i> <span
							th:text="${fullName}"></span>
						</a>
						<ul class="dropdown-menu dropdown-menu-end"
							aria-labelledby="userDropdown">
							<li><a class="dropdown-item" th:href="@{/profile}">Tài
									khoản của tôi</a></li>
							<li><a class="dropdown-item" th:href="@{/orders}">Đơn
									hàng</a></li>
							<li><hr class="dropdown-divider"></li>
							<li><a class="dropdown-item" th:href="@{/logout}">Đăng
									xuất</a></li>
						</ul>
					</div>

					<!-- Giỏ hàng -->
					<div>
						<a th:href="@{'/cart-' + ${userId}}"
							class="btn btn-outline-light position-relative"> <i
							class="fas fa-shopping-cart"></i> <span
							class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-warning">
								3 <!-- hoặc: th:text="${cartItemCount}" -->
						</span>
						<input type="hidden" name="userId" id="userId" th:value="${userId}">					
						</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</nav>
</html>